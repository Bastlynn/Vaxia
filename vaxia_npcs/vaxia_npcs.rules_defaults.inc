<?php
/**
 * @file
 * vaxia_npcs.rules_defaults.inc
 */

/**
 * Implements hook_default_rules_configuration().
 */
function vaxia_npcs_default_rules_configuration() {
  $items = array();
  $items['rules_request_npc'] = entity_import('rules_config', '{ "rules_request_npc" : {
      "LABEL" : "Request NPC",
      "PLUGIN" : "reaction rule",
      "OWNER" : "rules",
      "TAGS" : [ "Vaxia NPCs" ],
      "REQUIRES" : [ "rules", "vaxia_npcs" ],
      "ON" : { "vaxia_npcs_request" : [] },
      "DO" : [
        { "mail" : {
            "to" : "[node:author:mail], [user:mail]",
            "subject" : "[Vaxia] NPC [node:title] requested for use by [user:name]",
            "message" : "Another SH is requesting to the NPC [node:title] for sessions.\\r\\n\\r\\nYou are receiving this email because you are the current owner of this NPC. [user:name] would like to use this NPC for sessions. Since the NPC is currently listed as inactive it should be available for use, but we encourage coordination between our SHs. Please get back to [user:name] as promptly as you can regarding the use of this character and any on-going plots or special considerations that need to be taken into account when playing with this NPC.\\r\\n\\r\\nCharacter: [node:title]\\r\\nLink: [node:url]\\r\\n\\r\\nRequesting SH: [user:name], [user:mail] \\r\\n\\r\\n~~~~~~\\r\\nThis email was automatically generated by vaxia.org.\\r\\nYou are receiving this email as part of your membership at vaxia.org.\\r\\nDo not reply this this email, it is not a monitored account and messages will not be received by a human.\\r\\n~~~~~~",
            "from" : "[user:mail]",
            "language" : [ "" ]
          }
        }
      ]
    }
  }');
  return $items;
}
