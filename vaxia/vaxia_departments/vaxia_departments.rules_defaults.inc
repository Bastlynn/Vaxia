<?php
/**
 * @file
 * vaxia_departments.rules_defaults.inc
 */

/**
 * Implements hook_default_rules_configuration().
 */
function vaxia_departments_default_rules_configuration() {
  $items = array();
  $items['rules_expire_setting_walkthrough'] = entity_import('rules_config', '{ "rules_expire_setting_walkthrough" : {
      "LABEL" : "RMV- Expire Setting Walkthrough",
      "PLUGIN" : "reaction rule",
      "ACTIVE" : false,
      "OWNER" : "rules",
      "TAGS" : [ "Walkthrough" ],
      "REQUIRES" : [ "rules", "user_stats" ],
      "ON" : { "user_stats_day_older" : [] },
      "IF" : [
        { "user_has_role" : { "account" : [ "user" ], "roles" : { "value" : { "27" : "27" } } } },
        { "data_is" : {
            "data" : [ "user:field-took-setting-walkthrough" ],
            "op" : "\\u003C",
            "value" : "-12 months"
          }
        }
      ],
      "DO" : [
        { "user_remove_role" : { "account" : [ "user" ], "roles" : { "value" : { "27" : "27" } } } },
        { "mail" : {
            "to" : [ "user:mail" ],
            "subject" : "[Vaxia] Setting Department Membership Has Expired",
            "message" : "You are receiving this email because it has been at least a year since you passed the Setting department training.\\r\\n\\r\\nJust like getting a driver\\u0027s license, we ask that department members retake these tests regularly so to keep your skills sharp and consistent with the rest of the team. Over time personal style in ruling can deviate and the longer the time the more so, hence the refresher.\\r\\n\\r\\nAs soon as you retake the department training you will be re-enabled automatically.\\r\\n\\r\\nSetting Walkthrough: http:\\/\\/vaxia.org\\/quizzes\\/new-player-setting-walkthrough\\r\\n\\r\\n~~~~~~\\r\\nThis email was automatically generated by vaxia.org.\\r\\nYou are receiving this email as part of your membership at vaxia.org.\\r\\nDo not reply this this email, it is not a monitored account and messages will not be received by a human.\\r\\n~~~~~~",
            "language" : [ "" ]
          }
        }
      ]
    }
  }');
  $items['rules_expire_social_walkthrough'] = entity_import('rules_config', '{ "rules_expire_social_walkthrough" : {
      "LABEL" : "RMV- Expire Social Walkthrough",
      "PLUGIN" : "reaction rule",
      "ACTIVE" : false,
      "OWNER" : "rules",
      "TAGS" : [ "Walkthrough" ],
      "REQUIRES" : [ "rules", "user_stats" ],
      "ON" : { "user_stats_day_older" : [] },
      "IF" : [
        { "user_has_role" : { "account" : [ "user" ], "roles" : { "value" : { "26" : "26" } } } },
        { "data_is" : {
            "data" : [ "user:field-took-social-walkthrough" ],
            "op" : "\\u003C",
            "value" : "-12 months"
          }
        }
      ],
      "DO" : [
        { "user_remove_role" : { "account" : [ "user" ], "roles" : { "value" : { "26" : "26" } } } },
        { "mail" : {
            "to" : [ "user:mail" ],
            "subject" : "[Vaxia] Social Department Membership Has Expired",
            "message" : "You are receiving this email because it has been at least a year since you passed the Social department training.\\r\\n\\r\\nJust like getting a driver\\u0027s license, we ask that department members retake these tests regularly so to keep your skills sharp and consistent with the rest of the team. Over time personal style in ruling can deviate and the longer the time the more so, hence the refresher.\\r\\n\\r\\nAs soon as you retake the department training you will be re-enabled automatically.\\r\\n\\r\\nSocial Walkthrough: http:\\/\\/vaxia.org\\/quizzes\\/new-player-social-walkthrough\\r\\n\\r\\n~~~~~~\\r\\nThis email was automatically generated by vaxia.org.\\r\\nYou are receiving this email as part of your membership at vaxia.org.\\r\\nDo not reply this this email, it is not a monitored account and messages will not be received by a human.\\r\\n~~~~~~",
            "language" : [ "" ]
          }
        }
      ]
    }
  }');
  $items['rules_expire_system_walkthrough'] = entity_import('rules_config', '{ "rules_expire_system_walkthrough" : {
      "LABEL" : "RMV- Expire System Walkthrough",
      "PLUGIN" : "reaction rule",
      "ACTIVE" : false,
      "OWNER" : "rules",
      "TAGS" : [ "Walkthrough" ],
      "REQUIRES" : [ "rules", "user_stats" ],
      "ON" : { "user_stats_day_older" : [] },
      "IF" : [
        { "user_has_role" : { "account" : [ "user" ], "roles" : { "value" : { "24" : "24" } } } },
        { "data_is" : {
            "data" : [ "user:field-took-system-walkthrough" ],
            "op" : "\\u003C",
            "value" : "-12 months"
          }
        }
      ],
      "DO" : [
        { "user_remove_role" : { "account" : [ "user" ], "roles" : { "value" : { "24" : "24" } } } },
        { "mail" : {
            "to" : [ "user:mail" ],
            "subject" : "[Vaxia] System Department Membership Has Expired",
            "message" : "You are receiving this email because it has been at least a year since you passed the System department training.\\r\\n\\r\\nJust like getting a driver\\u0027s license, we ask that department members retake these tests regularly so to keep your skills sharp and consistent with the rest of the team. Over time personal style in ruling can deviate and the longer the time the more so, hence the refresher.\\r\\n\\r\\nAs soon as you retake the department training you will be re-enabled automatically.\\r\\n\\r\\nSystem Walkthrough: http:\\/\\/vaxia.org\\/quizzes\\/new-player-system-walkthrough\\r\\n\\r\\n~~~~~~\\r\\nThis email was automatically generated by vaxia.org.\\r\\nYou are receiving this email as part of your membership at vaxia.org.\\r\\nDo not reply this this email, it is not a monitored account and messages will not be received by a human.\\r\\n~~~~~~",
            "language" : [ "" ]
          }
        }
      ]
    }
  }');
  $items['rules_mark_passed_system_walkthrough'] = entity_import('rules_config', '{ "rules_mark_passed_system_walkthrough" : {
      "LABEL" : "Department - Mark passed System Walkthrough",
      "PLUGIN" : "reaction rule",
      "OWNER" : "rules",
      "TAGS" : [ "Department" ],
      "REQUIRES" : [ "rules", "quiz_rules" ],
      "ON" : { "quiz_rules_quiz_passed" : [] },
      "IF" : [ { "data_is" : { "data" : [ "node:nid" ], "value" : "9781" } } ],
      "DO" : [
        { "drupal_message" : { "message" : "Congratulations! You\\u0027re up to date on how our system here works. If you have any questions feel free to ask one of our A\\/SHs for clarification. If there\\u0027s anything in this walkthrough that we didn\\u0027t cover please let us know." } },
        { "data_set" : { "data" : [ "user:field-took-system-walkthrough" ], "value" : "now" } }
      ]
    }
  }');
  $items['vaxia_staff_mark_passed_setting_walkthrough'] = entity_import('rules_config', '{ "vaxia_staff_mark_passed_setting_walkthrough" : {
      "LABEL" : "Department - Mark passed Setting Walkthrough",
      "PLUGIN" : "reaction rule",
      "OWNER" : "rules",
      "TAGS" : [ "Department" ],
      "REQUIRES" : [ "rules", "quiz_rules" ],
      "ON" : { "quiz_rules_quiz_passed" : [] },
      "IF" : [ { "data_is" : { "data" : [ "node:nid" ], "value" : "10344" } } ],
      "DO" : [
        { "drupal_message" : { "message" : "Congratulations! You\\u0027re up to date on our settings. If you have any questions feel free to ask one of our A\\/SHs for clarification. If there\\u0027s anything in this walkthrough that we didn\\u0027t cover please let us know." } },
        { "data_set" : { "data" : [ "user:field-took-setting-walkthrough" ], "value" : "now" } }
      ]
    }
  }');
  $items['vaxia_staff_mark_passed_social_walkthrough'] = entity_import('rules_config', '{ "vaxia_staff_mark_passed_social_walkthrough" : {
      "LABEL" : "Department - Mark passed Social Walkthrough",
      "PLUGIN" : "reaction rule",
      "OWNER" : "rules",
      "TAGS" : [ "Department" ],
      "REQUIRES" : [ "rules", "quiz_rules" ],
      "ON" : { "quiz_rules_quiz_passed" : [] },
      "IF" : [ { "data_is" : { "data" : [ "node:nid" ], "value" : "10231" } } ],
      "DO" : [
        { "drupal_message" : { "message" : "Congratulations! You\\u0027re up to date on our social expectations here. If you have any questions feel free to ask one of our A\\/SHs for clarification. If there\\u0027s anything in this walkthrough that we didn\\u0027t cover please let us know." } },
        { "data_set" : { "data" : [ "user:field-took-social-walkthrough" ], "value" : "now" } }
      ]
    }
  }');
  return $items;
}
