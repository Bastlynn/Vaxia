<?php
/**
 * @file
 * vacation.rules_defaults.inc
 */

/**
 * Implements hook_default_rules_configuration().
 */
function vacation_default_rules_configuration() {
  $items = array();
  $items['rules_vacation_end'] = entity_import('rules_config', '{ "rules_vacation_end" : {
      "LABEL" : "Vacation end",
      "PLUGIN" : "reaction rule",
      "OWNER" : "rules",
      "TAGS" : [ "Vacation" ],
      "REQUIRES" : [ "rules", "vacation" ],
      "ON" : { "vacation_end" : [] },
      "DO" : [
        { "user_remove_role" : { "account" : [ "user" ], "roles" : { "value" : { "23" : "23" } } } },
        { "redirect" : { "url" : "\\u003Cfront\\u003E" } },
        { "drupal_message" : { "message" : "Welcome back! Take a moment to check in with the rest of the Storyhosts so you know what you missed. If you\\u0027ve been gone for a long time - expect to have to do some catching up." } },
        { "mail_to_users_of_role" : {
            "roles" : { "value" : { "9" : "9", "14" : "14", "21" : "21", "4" : "4", "3" : "3" } },
            "subject" : "[Vaxia] Storyhost or ASH has returned from vacation",
            "message" : "[user:name] has returned from a long-term vacation using the vacation system. This email is to notify you to welcome this player back.\\r\\n\\r\\n[user:name]\\u0027s permissions have been re-enabled as they were before they left, and by marking the vacation button they\\u0027re letting us know they are ready to fulfill those roles.\\r\\n\\r\\nIf you have any questions about [user:name] \\u0027s absence or the policies on inactive SHs, use the site\\u0027s Contact form or post to the Policies forum to get clarification.\\r\\n\\r\\n~~~~~~\\r\\nThis email was automatically generated by vaxia.org.\\r\\nYou are receiving this email as part of your membership at vaxia.org.\\r\\nDo not reply this this email, it is not a monitored account and messages will not be received by a human.\\r\\n~~~~~~ "
          }
        }
      ]
    }
  }');
  $items['rules_vacation_start'] = entity_import('rules_config', '{ "rules_vacation_start" : {
      "LABEL" : "Vacation start",
      "PLUGIN" : "reaction rule",
      "OWNER" : "rules",
      "TAGS" : [ "Vacation" ],
      "REQUIRES" : [ "rules", "vacation" ],
      "ON" : { "vacation_start" : [] },
      "DO" : [
        { "user_add_role" : {
            "account" : [ "user" ],
            "roles" : { "value" : { "8" : "8", "23" : "23" } }
          }
        },
        { "redirect" : { "url" : "\\u003Cfront\\u003E" } },
        { "drupal_message" : { "message" : "Your vacation notice has gone out, roles have been removed and you are ready to hit the beach and\\/or deal with what you need to. Good luck, and we\\u0027ll see you again when you\\u0027re ready to return." } },
        { "mail_to_users_of_role" : {
            "roles" : { "value" : { "9" : "9", "4" : "4" } },
            "subject" : "[Vaxia] Storyhost or ASH has gone on vacation",
            "message" : "[user:name] has gone on a long-term vacation using the vacation mode system. This email is to notify you to expect a long term vacation or absence on behalf of this player.\\r\\n\\r\\nWhile on vacation, [user:name] will only have permissions and access as per a player. They will not have any SH or ASH powers and will not be receiving any notices relevant to those roles.\\r\\n\\r\\nOnce [user:name] declares themselves off of vacation, the permissions will be re-enabled.\\r\\n\\r\\nIf you have any questions about [user:name]\\u0027s absence or the policies on inactive SHs, use the site\\u0027s Contact form or post to the Policies forum to get clarification.\\r\\n\\r\\n~~~~~~\\r\\nThis email was automatically generated by vaxia.org.\\r\\nYou are receiving this email as part of your membership at vaxia.org.\\r\\nDo not reply this this email, it is not a monitored account and messages will not be received by a human.\\r\\n~~~~~~ "
          }
        }
      ]
    }
  }');
  return $items;
}
